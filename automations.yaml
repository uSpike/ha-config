- alias: "Vacation - turn on lights at sunset"
  initial_state: true
  trigger:
    - platform: sun
      event: sunset
  condition:
    - condition: state
      entity_id: input_boolean.vacation
      state: "on"
  action:
    - service: script.turn_on
      entity_id: script.livingroom_normal

- alias: "Vacation - bedroom lights on"
  initial_state: true
  trigger:
    - platform: time
      at: '21:00:00'
  condition:
    - condition: state
      entity_id: input_boolean.vacation
      state: "on"
  action:
    - service: script.turn_on
      entity_id: script.bedroom_normal

- alias: "Vacation - go to bed"
  initial_state: true
  trigger:
    - platform: time
      at: '00:00:00'
  condition:
    - condition: state
      entity_id: input_boolean.vacation
      state: "on"
  action:
    - service: scene.turn_on
      entity_id: scene.bedroom_dim
    - service: light.turn_off
      entity_id: light.livingroom

- alias: Update Available Notification
  trigger:
    - platform: state
      entity_id: binary_sensor.updater
      from: 'off'
      to: 'on'
  action:
    - service: notify.notify
      data_template:
        message: "Home Assistant {{ state_attr('binary_sensor.updater', 'newest_version') }} is available."

- alias: Garage Door Open Set Switch Color
  trigger:
    - platform: state
      entity_id: binary_sensor.garage_tilt_sensor
      to: 'on'
  action:
    - service: script.zwave_inovelli_led_color
      data:
        nodeid: 23
        color: 'red'
        duration: 'on'
        effect: pulse
        level: 100

- alias: Garage Door Close Set Switch Color
  trigger:
    - platform: state
      entity_id: binary_sensor.garage_tilt_sensor
      to: 'off'
  action:
    - service: script.zwave_inovelli_led_color
      data:
        nodeid: 23
        duration: 'off'
        effect: 'off'

- alias: "Media start"
  initial_state: true
  trigger:
    - platform: event
      event_type: zwave.scene_activated
      event_data:
        entity_id: zwave.switch_basement
        scene_id: 1 # down
        scene_data: 3 # double-tap
  action:
    - service: script.media_start

- alias: "Media pause"
  initial_state: true
  trigger:
    - platform: state
      entity_id: media_player.room1_main
      from: 'on'
      to: 'off'
  condition:
    condition: state
    entity_id: light.basement
    state: 'on'
  action:
    - service: script.turn_on
      entity_id: script.media_pause
